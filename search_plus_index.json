{"./":{"url":"./","title":"Introduction","keywords":"","body":"JNR-API Documents Introduction Auth Users Roles Menus Policies Profile BudgeNums © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:33:51 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-auth.html":{"url":"api-auth.html","title":"Auth","keywords":"","body":"API Auth Login Login use name and password. Method POST URL http://jnr.host:9022/api/auth/v3/login Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\" } Responses Code Message Description 200 OK Login success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName or password is wrong Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"sessionTicket\": { \"accessToken\": \"f58403b6c84211ec92aa38c9860954df\", \"expiresAt\": 1651899845, \"scope\": \"user\", \"tokenType\": \"Bearer\", \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"refreshToken\": \"f5840b5ec84211ec92aa38c9860954df\", \"loginName\": \"admin\", \"roleIds\": \"507b9fd4646711ebb586821700fd42c0\", \"roleNames\": \"Administrator\", \"companyId\": \"d62e5f58cf3b11eba543a45e60efbf2d\" } } Logout Logout after login. Method DELETE URL http://jnr.host:9022/api/auth/v3/logout Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Login success 401 Unauthorized Not login Send lost password verify code 忘记密码操作时发送获取验证码。 输入的loginName联系方式（手机或email）会收到短信或信件，内容中包含验证码。 5分钟内有效，并且5分钟内不能重新发送。 Method POST URL http://jnr.host:9022/api/auth/v3/verify-code Body Key Type Description Required loginName String Login name as user Yes Request Example { \"loginName\": \"admin\" } Responses Code Message Description 200 OK Send verify code success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName is not exist Lost password 忘记密码操作 Method POST URL http://jnr.host:9022/api/auth/v3/lostpwd Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes code String 验证码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\", \"code\": 123456 } Responses Code Message Description 200 OK Modify password success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName is not exist 408 Timeout 校验码过期 412 Precondition Failed 校验码错误 Send signup verify code 注册时发送校验码。 输入的loginName联系方式（手机或email）会收到短信或信件，内容中包含验证码。 5分钟内有效，并且5分钟内不能重新发送。 Method POST URL http://jnr.host:9022/api/auth/v3/signup/verify-code Body Key Type Description Required loginName String Login name as user Yes Request Example { \"loginName\": \"admin\" } Responses Code Message Description 200 OK Send verify code success 400 Bad Request LoginName not valided 409 Conflict 用户名已经存在 Signup 注册 Method POST URL http://jnr.host:9022/api/auth/v3/signup Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes code String 验证码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\", \"code\": 123456 } Responses Code Message Description 200 OK Modify password success 400 Bad Request LoginName or md5pwd not valided 408 Timeout 校验码过期 409 Conflict 用户名已经存在 412 Precondition Failed 校验码错误 © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 07:49:30 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-users.html":{"url":"api-users.html","title":"Users","keywords":"","body":"API Users 查询用户列表 Method POST URL http://jnr.host:9022/api/auth/v3/users/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 19, \"totalPage\": 1, \"datas\": [ { \"userId\": \"50538712a41211ec95465254006e0804\", \"loginName\": \"michael@consulting.com\", \"status\": 0, \"ctime\": \"2022-03-15 11:45:10\", \"mtime\": \"2022-03-15 11:45:10\", \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 锁定账号 Method PUT URL http://jnr.host:9022/api/auth/v3/users/lock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 用户ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解锁账号 Method PUT URL http://jnr.host:9022/api/auth/v3/users/unlock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 用户ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 重置用户密码 Method POST URL http://jnr.host:9022/api/auth/v3/users/:userId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required loginName String 用户账号 No md5pwd String 使用md5加密后的密码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 用户绑定角色 Method PUT URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 用户解绑角色 Method DELETE URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询用户的角色列表 Method POST URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"3d918282662911eb96fe821700fd42c0\", \"name\": \"Viewer\", \"status\": 0, \"ctime\": \"2021-02-03 22:08:07\", \"mtime\": \"2021-02-03 22:08:07\", \"checked\": 0 }, { \"id\": \"08c5291e649911ebaa41821700fd42c0\", \"name\": \"Editor\", \"status\": 0, \"ctime\": \"2021-02-01 22:23:20\", \"mtime\": \"2021-02-01 22:23:20\", \"checked\": 0 }, { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } ] } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 07:49:48 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-roles.html":{"url":"api-roles.html","title":"Roles","keywords":"","body":"API Roles 查询角色列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"3d918282662911eb96fe821700fd42c0\", \"name\": \"Viewer\", \"status\": 0, \"ctime\": \"2021-02-03 22:08:07\", \"mtime\": \"2021-02-03 22:08:07\", \"checked\": 0 }, { \"id\": \"08c5291e649911ebaa41821700fd42c0\", \"name\": \"Editor\", \"status\": 0, \"ctime\": \"2021-02-01 22:23:20\", \"mtime\": \"2021-02-01 22:23:20\", \"checked\": 0 }, { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } ] } 锁定角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/lock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 角色ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解锁角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/unlock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 角色ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询角色的用户列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/:roleId/users/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"userId\": \"50538712a41211ec95465254006e0804\", \"loginName\": \"michael@consulting.com\", \"status\": 0, \"ctime\": \"2022-03-15 11:45:10\", \"mtime\": \"2022-03-15 11:45:10\", \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 创建角色 Method POST URL http://jnr.host:9022/api/auth/v3/roles Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 角色名称 Yes Request Example { \"name\": \"admin\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Role name not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 角色名称 Yes Request Example { \"name\": \"admin\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除角色 Method DELETE URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询角色 Method GET URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } } 查询角色的菜单列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/:roleId/menus/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, id,seq,type,name,icon,url,budgeName \"datas\": [ { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", \"budgeNum\": 0, \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 绑定角色与菜单 Method POST URL http://jnr.host:9022/api/auth/v3/roles/menus/menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解绑角色与菜单 Method DELETE URL http://jnr.host:9022/api/auth/v3/roles/menus/menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:40:59 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-menus.html":{"url":"api-menus.html","title":"Menus","keywords":"","body":"API Menus 查询菜单列表 Method POST URL http://jnr.host:9022/api/auth/v3/menus/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", \"budgeNum\": 0, \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 创建菜单 Method POST URL http://jnr.host:9022/api/auth/v3/menus Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required seq int 菜单排列顺序号 Yes type String 菜单类型 Yes name String 菜单名称 Yes icon String 菜单图标 Yes url String 菜单URL Yes budgeName String 菜单对应的budgeNum名称 Yes Request Example { \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改菜单 Method PUT URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required id String 菜单ID Yes seq int 菜单排列顺序号 Yes type String 菜单类型 Yes name String 菜单名称 Yes icon String 菜单图标 Yes url String 菜单URL Yes budgeName String 菜单对应的budgeNum名称 Yes Request Example { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除菜单 Method DELETE URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此菜单 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询菜单 Method GET URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此菜单 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:39:34 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-policies.html":{"url":"api-policies.html","title":"Policies","keywords":"","body":"API Policies 查询策略列表 Method POST URL http://jnr.host:9022/api/auth/v3/policies/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"priority\", \"dir\": \"asc\" }], \"searchs\": [ { \"column\": \"type\", \"op\": \"eq\", \"value\": \"role\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" }, ...... ] } 创建策略 Method POST URL http://jnr.host:9022/api/auth/v3/policies Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required type String 策略类型: User, Role Yes objId String 策略约束的对象ID Yes objName String 策略约束的对象名称 Yes resPath String 策略约束的URL Yes action String 策略约束的方法：*, POST, PUT, GET, DELETE Yes access String 策略: Allow, Deny Yes priority int 策略的优先级 Yes Request Example { \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改策略 Method PUT URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required type String 策略类型: User, Role Yes objId String 策略约束的对象ID Yes objName String 策略约束的对象名称 Yes resPath String 策略约束的URL Yes action String 策略约束的方法：*, POST, PUT, GET, DELETE Yes access String 策略: Allow, Deny Yes priority int 策略的优先级 Yes Request Example { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除策略 Method DELETE URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询策略 Method GET URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此策略 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:40:03 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-profile.html":{"url":"api-profile.html","title":"Profile","keywords":"","body":"API Profile 修改自己的Profile Method PUT URL http://jnr.host:9022/api/sys/profiles Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required firstName String 名 Yes lastName String 姓 Yes email String 电子邮箱 Yes telephone String 手机 Yes workphone String 工作电话 Yes avatar String 头像URL Yes jobTitle String 职务 Yes biography String 描述 Yes Request Example { \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 获取自己的Profile Method GET URL http://jnr.host:9022/api/sys/profiles Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } } 获取某用户的Profile Method GET URL http://jnr.host:9022/api/sys/profiles/:userId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此用户 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:37:45 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-budge-nums.html":{"url":"api-budge-nums.html","title":"BudgeNums","keywords":"","body":"API BudgeNums 获取自己的BudgeNums Method GET URL http://jnr.host:9022/api/sys/budge-nums Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"datas\": [ {\"权限管理\": 1} ] } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:36:39 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"}}