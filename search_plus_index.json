{"./":{"url":"./","title":"Introduction","keywords":"","body":"JNR-API Documents API列表 Introduction Auth Users Roles Menus Policies Profile BudgeNums Files Categories Tags Articles Install nvm install 10 nvm use 10 npm install -g gitbook-cli gitbook install gitbook serve 执行命令，GitBook 会启动一个 4000 端口 （http://localhost:4000） 用于预览。 ./build.sh 上述命令默认将生成的静态网站输出到 _book 目录。 Demo © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-18 22:37:08 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-auth.html":{"url":"api-auth.html","title":"Auth","keywords":"","body":"API Auth Login Login use name and password. Method POST URL http://jnr.host:9022/api/auth/v3/login Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\" } Responses Code Message Description 200 OK Login success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName or password is wrong Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"sessionTicket\": { \"accessToken\": \"f58403b6c84211ec92aa38c9860954df\", \"expiresAt\": 1651899845, \"scope\": \"user\", \"tokenType\": \"Bearer\", \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"refreshToken\": \"f5840b5ec84211ec92aa38c9860954df\", \"loginName\": \"admin\", \"roleIds\": \"507b9fd4646711ebb586821700fd42c0\", \"roleNames\": \"Administrator\", \"companyId\": \"d62e5f58cf3b11eba543a45e60efbf2d\" } } Logout Logout after login. Method DELETE URL http://jnr.host:9022/api/auth/v3/logout Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Login success 401 Unauthorized Not login Send lost password verify code 忘记密码操作时发送获取验证码。 输入的loginName联系方式（手机或email）会收到短信或信件，内容中包含验证码。 5分钟内有效，并且5分钟内不能重新发送。 Method POST URL http://jnr.host:9022/api/auth/v3/verify-code Body Key Type Description Required loginName String Login name as user Yes Request Example { \"loginName\": \"admin\" } Responses Code Message Description 200 OK Send verify code success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName is not exist Lost password 忘记密码操作 Method POST URL http://jnr.host:9022/api/auth/v3/lostpwd Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes code String 验证码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\", \"code\": 123456 } Responses Code Message Description 200 OK Modify password success 400 Bad Request LoginName or md5pwd not valided 404 Not Found LoginName is not exist 408 Timeout 校验码过期 412 Precondition Failed 校验码错误 Send signup verify code 注册时发送校验码。 输入的loginName联系方式（手机或email）会收到短信或信件，内容中包含验证码。 5分钟内有效，并且5分钟内不能重新发送。 Method POST URL http://jnr.host:9022/api/auth/v3/signup/verify-code Body Key Type Description Required loginName String Login name as user Yes Request Example { \"loginName\": \"admin\" } Responses Code Message Description 200 OK Send verify code success 400 Bad Request LoginName not valided 409 Conflict 用户名已经存在 Signup 注册 Method POST URL http://jnr.host:9022/api/auth/v3/signup Body Key Type Description Required loginName String Login name as user Yes md5pwd String Use md5 function encrypt password Yes code String 验证码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\", \"code\": 123456 } Responses Code Message Description 200 OK Modify password success 400 Bad Request LoginName or md5pwd not valided 408 Timeout 校验码过期 409 Conflict 用户名已经存在 412 Precondition Failed 校验码错误 © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-users.html":{"url":"api-users.html","title":"Users","keywords":"","body":"API Users 查询用户列表 Method POST URL http://jnr.host:9022/api/auth/v3/users/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 19, \"totalPage\": 1, \"datas\": [ { \"userId\": \"50538712a41211ec95465254006e0804\", \"loginName\": \"michael@consulting.com\", \"status\": 0, \"ctime\": \"2022-03-15 11:45:10\", \"mtime\": \"2022-03-15 11:45:10\", \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 锁定账号 Method PUT URL http://jnr.host:9022/api/auth/v3/users/lock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 用户ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解锁账号 Method PUT URL http://jnr.host:9022/api/auth/v3/users/unlock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 用户ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 重置用户密码 Method POST URL http://jnr.host:9022/api/auth/v3/users/:userId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required loginName String 用户账号 No md5pwd String 使用md5加密后的密码 Yes Request Example { \"loginName\": \"admin\", \"md5pwd\": \"e10adc3949ba59abbe56e057f20f883e\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 用户绑定角色 Method PUT URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 用户解绑角色 Method DELETE URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此账号 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询用户的角色列表 Method POST URL http://jnr.host:9022/api/auth/v3/users/:userId/roles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"3d918282662911eb96fe821700fd42c0\", \"name\": \"Viewer\", \"status\": 0, \"ctime\": \"2021-02-03 22:08:07\", \"mtime\": \"2021-02-03 22:08:07\", \"checked\": 0 }, { \"id\": \"08c5291e649911ebaa41821700fd42c0\", \"name\": \"Editor\", \"status\": 0, \"ctime\": \"2021-02-01 22:23:20\", \"mtime\": \"2021-02-01 22:23:20\", \"checked\": 0 }, { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } ] } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-roles.html":{"url":"api-roles.html","title":"Roles","keywords":"","body":"API Roles 查询角色列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"3d918282662911eb96fe821700fd42c0\", \"name\": \"Viewer\", \"status\": 0, \"ctime\": \"2021-02-03 22:08:07\", \"mtime\": \"2021-02-03 22:08:07\", \"checked\": 0 }, { \"id\": \"08c5291e649911ebaa41821700fd42c0\", \"name\": \"Editor\", \"status\": 0, \"ctime\": \"2021-02-01 22:23:20\", \"mtime\": \"2021-02-01 22:23:20\", \"checked\": 0 }, { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } ] } 锁定角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/lock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 角色ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解锁角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/unlock Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required ids array 角色ID数组 Yes Request Example { \"ids\": [\"50538712a41211ec95465254006e0804\"] } Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询角色的用户列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/:roleId/users/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"userId\": \"50538712a41211ec95465254006e0804\", \"loginName\": \"michael@consulting.com\", \"status\": 0, \"ctime\": \"2022-03-15 11:45:10\", \"mtime\": \"2022-03-15 11:45:10\", \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 创建角色 Method POST URL http://jnr.host:9022/api/auth/v3/roles Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 角色名称 Yes Request Example { \"name\": \"admin\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Role name not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改角色 Method PUT URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 角色名称 Yes Request Example { \"name\": \"admin\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request LoginName or md5pwd not valided 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除角色 Method DELETE URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询角色 Method GET URL http://jnr.host:9022/api/auth/v3/roles/:roleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"507b9fd4646711ebb586821700fd42c0\", \"name\": \"Administrator\", \"status\": 0, \"ctime\": \"2021-02-01 16:27:25\", \"mtime\": \"2021-02-01 16:27:25\", \"checked\": 1 } } 查询角色的菜单列表 Method POST URL http://jnr.host:9022/api/auth/v3/roles/:roleId/menus/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, id,seq,type,name,icon,url,budgeName \"datas\": [ { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", \"budgeNum\": 0, \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 绑定角色与菜单 Method POST URL http://jnr.host:9022/api/auth/v3/roles/menus/menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 解绑角色与菜单 Method DELETE URL http://jnr.host:9022/api/auth/v3/roles/menus/menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-menus.html":{"url":"api-menus.html","title":"Menus","keywords":"","body":"API Menus 查询菜单列表 Method POST URL http://jnr.host:9022/api/auth/v3/menus/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [ { \"column\": \"status\", \"op\": \"eq\", \"value\": \"0\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", \"budgeNum\": 0, \"key\": \"50538712a41211ec95465254006e0804\" }, ...... ] } 创建菜单 Method POST URL http://jnr.host:9022/api/auth/v3/menus Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required seq int 菜单排列顺序号 Yes type String 菜单类型 Yes name String 菜单名称 Yes icon String 菜单图标 Yes url String 菜单URL Yes budgeName String 菜单对应的budgeNum名称 Yes Request Example { \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改菜单 Method PUT URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required id String 菜单ID Yes seq int 菜单排列顺序号 Yes type String 菜单类型 Yes name String 菜单名称 Yes icon String 菜单图标 Yes url String 菜单URL Yes budgeName String 菜单对应的budgeNum名称 Yes Request Example { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除菜单 Method DELETE URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此菜单 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询菜单 Method GET URL http://jnr.host:9022/api/auth/v3/menus/:menuId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此菜单 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"50538712a41211ec95465254006e0804\", \"seq\": 1, \"type\": \"menu\", \"name\": \"权限管理\", \"icon\": \"icon-widget\", \"url\": \"/admin/auth/index\", \"budgeName\": \"权限管理\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-policies.html":{"url":"api-policies.html","title":"Policies","keywords":"","body":"API Policies 查询策略列表 Method POST URL http://jnr.host:9022/api/auth/v3/policies/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"priority\", \"dir\": \"asc\" }], \"searchs\": [ { \"column\": \"type\", \"op\": \"eq\", \"value\": \"role\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 3, \"totalPage\": 1, \"datas\": [ { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" }, ...... ] } 创建策略 Method POST URL http://jnr.host:9022/api/auth/v3/policies Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required type String 策略类型: User, Role Yes objId String 策略约束的对象ID Yes objName String 策略约束的对象名称 Yes resPath String 策略约束的URL Yes action String 策略约束的方法：*, POST, PUT, GET, DELETE Yes access String 策略: Allow, Deny Yes priority int 策略的优先级 Yes Request Example { \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 修改策略 Method PUT URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required type String 策略类型: User, Role Yes objId String 策略约束的对象ID Yes objName String 策略约束的对象名称 Yes resPath String 策略约束的URL Yes action String 策略约束的方法：*, POST, PUT, GET, DELETE Yes access String 策略: Allow, Deny Yes priority int 策略的优先级 Yes Request Example { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除策略 Method DELETE URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询策略 Method GET URL http://jnr.host:9022/api/auth/v3/policies/:policyId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此策略 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"role\", \"objId\": \"3d918282662911eb96fe821700fd42c0\", \"objName\": \"Viewer\", \"resPath\": \"/api/projects/filter\", \"action\": \"POST\", \"access\": \"allow\", \"priority\": 10, \"key\": \"043c46422aa111ec881d38c9860954df\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-profile.html":{"url":"api-profile.html","title":"Profile","keywords":"","body":"API Profile 修改自己的Profile Method PUT URL http://jnr.host:9022/api/sys/profiles Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required firstName String 名 Yes lastName String 姓 Yes email String 电子邮箱 Yes telephone String 手机 Yes workphone String 工作电话 Yes avatar String 头像URL Yes jobTitle String 职务 Yes biography String 描述 Yes Request Example { \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 获取自己的Profile Method GET URL http://jnr.host:9022/api/sys/profiles Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } } 获取某用户的Profile Method GET URL http://jnr.host:9022/api/sys/profiles/:userId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此用户 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-budge-nums.html":{"url":"api-budge-nums.html","title":"BudgeNums","keywords":"","body":"API BudgeNums 获取自己的BudgeNums Method GET URL http://jnr.host:9022/api/sys/budge-nums Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"datas\": [ {\"权限管理\": 1} ] } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-01 08:45:53 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-files.html":{"url":"api-files.html","title":"Files","keywords":"","body":"API Files 查询文件列表 Method POST URL http://jnr.host:9022/api/sys/files/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [ { \"column\": \"ctime\", \"dir\": \"desc\" }, { column: 'size', dir: 'asc' } ], \"searchs\": [ { column: 'filetype', op: 'in', value: ['image', 'audio', 'video', 'file'] } ] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 53, \"totalPage\": 3, \"datas\": [ { \"id\": \"4c22923c0d255f83a0567a7d429ddd45\", \"localPath\": \"/var/tmp/jnr/4/4c22923c0d255f83a0567a7d429ddd45.mp4\", \"localUrl\": \"/static/api/tmpfiles/4/4c22923c0d255f83a0567a7d429ddd45.mp4\", \"cloudUrl\": \"http://video.cyber-life.cn/cyber/2022/05/17/9f576704d5d411ec9f5a38c9860954df.mp4\", \"filetype\": \"video\", \"filename\": \"车辆装置篇08_用一个电机驱动车轮.mp4\", \"blobTotalNum\": 19, \"size\": 9536257, \"ctime\": \"05/17/2022\", \"mtime\": \"05/17/2022\", \"md5\": null, \"ver\": 0, \"ext\": \".mp4\", \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"bizid\": \"rc-upload-1652753880393-16\", \"author\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } }, ...... ] } 查询我上传的文件列表 Method POST URL http://jnr.host:9022/api/sys/mine/files/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [ { \"column\": \"ctime\", \"dir\": \"desc\" }, { column: 'size', dir: 'asc' } ], \"searchs\": [ { column: 'filetype', op: 'in', value: ['image', 'audio', 'video', 'file'] } ] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 20, \"totalNum\": 53, \"totalPage\": 3, \"datas\": [ { \"id\": \"4c22923c0d255f83a0567a7d429ddd45\", \"localPath\": \"/var/tmp/jnr/4/4c22923c0d255f83a0567a7d429ddd45.mp4\", \"localUrl\": \"/static/api/tmpfiles/4/4c22923c0d255f83a0567a7d429ddd45.mp4\", \"cloudUrl\": \"http://video.cyber-life.cn/cyber/2022/05/17/9f576704d5d411ec9f5a38c9860954df.mp4\", \"filetype\": \"video\", \"filename\": \"车辆装置篇08_用一个电机驱动车轮.mp4\", \"blobTotalNum\": 19, \"size\": 9536257, \"ctime\": \"05/17/2022\", \"mtime\": \"05/17/2022\", \"md5\": null, \"ver\": 0, \"ext\": \".mp4\", \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"bizid\": \"rc-upload-1652753880393-16\", \"author\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } }, ...... ] } 删除文件 Method DELETE URL http://jnr.host:9022/api/sys/files/:fileId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 上传的文件块 函数 cutFile(filetype, file, callback, bizid); 输入参数 Key Type Description Required filetype String 文件类型: image, video, file, audio Yes file Object html表单的file Yes callback Function 回调函数，返回参数 completedNum, blobTotalNum, imgUrl, filename, bizid, errCode No bizid String 业务ID，上传时代入参数，返回此参数，客户端用于配对使用。 No Responses Key Type Description Required completedNum int 已经传输完毕的块数 Yes blobTotalNum int 需要传输的总块数 Yes imgUrl String 上传完毕后文件的URL No filename String 上传文件的名称，只用于显示 No bizid String 业务ID，上传时代入参数，返回此参数，客户端用于配对使用。 No errCode int 返回码: 201-此块传输成功，200-所有块传输成功 Yes © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-18 22:18:42 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-categories.html":{"url":"api-categories.html","title":"Categories","keywords":"","body":"API Categories 查询分类列表 Method POST URL http://jnr.host:9022/api/cyber/categories/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"priority\", \"dir\": \"asc\" }], \"searchs\": [{ \"column\": \"name\", \"op\": \"like\", \"value\": \"linux\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 10, \"totalNum\": 9, \"totalPage\": 1, \"datas\": [ { \"id\": \"1917f866ce5911ec85a638c9860954df\", \"name\": \"ui\", \"num\": 36 }, ...... ] } 创建分类 Method POST URL http://jnr.host:9022/api/cyber/categories Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 分类名称 Yes Request Example { \"name\": \"linux\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": \"46f7083dd6b611ec98b038c9860954df\" } 修改分类 Method PUT URL http://jnr.host:9022/api/cyber/categories/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 分类名称 Yes Request Example { \"name\": \"linux\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除分类 Method DELETE URL http://jnr.host:9022/api/cyber/categories/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询分类 Method GET URL http://jnr.host:9022/api/cyber/categories/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此策略 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"043c46422aa111ec881d38c9860954df\", \"name\": \"linux\", } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-18 22:27:18 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-tags.html":{"url":"api-tags.html","title":"Tags","keywords":"","body":"API Tags 查询标签列表 Method POST URL http://jnr.host:9022/api/cyber/tags/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"priority\", \"dir\": \"asc\" }], \"searchs\": [{ \"column\": \"name\", \"op\": \"like\", \"value\": \"css\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 10, \"totalNum\": 9, \"totalPage\": 1, \"datas\": [ { \"id\": \"1917f866ce5911ec85a638c9860954df\", \"name\": \"ui\", \"num\": 36 }, ...... ] } 创建标签 Method POST URL http://jnr.host:9022/api/cyber/tags Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 分类名称 Yes Request Example { \"name\": \"css\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": \"46f7083dd6b611ec98b038c9860954df\" } 修改标签 Method PUT URL http://jnr.host:9022/api/cyber/tags/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required name String 标签名称 Yes Request Example { \"name\": \"css\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除标签 Method DELETE URL http://jnr.host:9022/api/cyber/tags/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询标签 Method GET URL http://jnr.host:9022/api/cyber/tags/:categoryId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此策略 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"043c46422aa111ec881d38c9860954df\", \"name\": \"css\", } } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-18 22:30:04 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"},"api-articles.html":{"url":"api-articles.html","title":"Articles","keywords":"","body":"API Articles 查询文章列表 Method POST URL http://jnr.host:9022/api/cyber/articles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [{ \"column\": \"type\", \"op\": \"eq\", \"value\": \"notebook\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 12, \"totalNum\": 24, \"totalPage\": 2, \"datas\": [ { \"id\": \"85ec8c28d31c11eca01a38c9860954df\", \"type\": \"markdown\", \"title\": \"React + antd pro + umi 番外篇\", \"description\": \"本篇文章主要介绍从 0 使用umi搭建React项目的过程，记录了相关umi的使用以及react的相关知识点。\", \"imgUrl\": \"/static/api/tmpfiles/f/f947e59a95675bdb8e8317a06d33addf.jpeg\", \"ctime\": \"05/14/2022\", \"mtime\": \"05/18/2022\", \"status\": 1, \"readNum\": 51, \"likeNum\": 0, \"commNum\": 0, \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"key\": \"85ec8c28d31c11eca01a38c9860954df\", \"author\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } }, ...... ] } 查询我的文章列表 Method POST URL http://jnr.host:9022/api/cyber/mine/articles/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [{ \"column\": \"type\", \"op\": \"eq\", \"value\": \"notebook\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 12, \"totalNum\": 24, \"totalPage\": 2, \"datas\": [ { \"id\": \"85ec8c28d31c11eca01a38c9860954df\", \"type\": \"markdown\", \"title\": \"React + antd pro + umi 番外篇\", \"description\": \"本篇文章主要介绍从 0 使用umi搭建React项目的过程，记录了相关umi的使用以及react的相关知识点。\", \"imgUrl\": \"/static/api/tmpfiles/f/f947e59a95675bdb8e8317a06d33addf.jpeg\", \"ctime\": \"05/14/2022\", \"mtime\": \"05/18/2022\", \"status\": 1, \"readNum\": 51, \"likeNum\": 0, \"commNum\": 0, \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"key\": \"85ec8c28d31c11eca01a38c9860954df\", \"author\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } }, ...... ] } 创建文章 Method POST URL http://jnr.host:9022/api/cyber/articles Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required title String 文章标题 Yes description String 文章描述 Yes type String 文章类型：html,markdown,notebook Yes Request Example { \"title\": \"linux\", \"description\": \"linux\", \"type\": \"markdown\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": \"46f7083dd6b611ec98b038c9860954df\" } 修改文章 Method PUT URL http://jnr.host:9022/api/cyber/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required title String 文章标题 Yes description String 文章描述 Yes imgUrl String 图片链接 Yes content Object 文章段落 Yes Request Example { \"title\": \"linux\", \"description\": \"linux\", \"imgUrl\": \"/static/api/tmpfiles/b/b39a491a55765273977d239167d44f3b.png\", \"content\": \"[{\"id\":\"1\",\"type\":\"markdown\",\"paragraph\":\"#Title\"]\", } Responses Code Message Description 200 OK 操作成功 400 Bad Request Input fields not valided 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 删除文章 Method DELETE URL http://jnr.host:9022/api/cyber/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询文章 Method GET URL http://jnr.host:9022/api/cyber/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此策略 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"data\": { \"id\": \"043c46422aa111ec881d38c9860954df\", \"type\": \"markdown\", \"title\": \"React + antd pro + umi 番外篇\", \"description\": \"本篇文章主要介绍从 0 使用umi搭建React项目的过程，记录了相关umi的使用以及react的相关知识点。\", \"imgUrl\": \"/static/api/tmpfiles/f/f947e59a95675bdb8e8317a06d33addf.jpeg\", \"ctime\": \"05/14/2022\", \"mtime\": \"05/18/2022\", \"status\": 1, \"readNum\": 51, \"likeNum\": 0, \"commNum\": 0, \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"key\": \"85ec8c28d31c11eca01a38c9860954df\", \"author\": { \"userId\": \"800be36b639211ebb61b821700fd42c0\", \"firstName\": \"Thomas\", \"lastName\": \"Zhang\", \"email\": \"\", \"telephone\": \"\", \"workphone\": \"\", \"avatar\": \"http://image.cyber-life.cn/cyber2022/01/12/831e1fc873a611ecaf6f5254006e0804\", \"jobTitle\": \"Professor of Mathematical Analysis\", \"biography\": \"Professor of Mathematical Analysis\" } } } 发布文章 Method POST URL http://jnr.host:9022/api/cyber/articles/:articleId/publish Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 召回文章 Method POST URL http://jnr.host:9022/api/cyber/articles/:articleId/revoke Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK 操作成功 401 Unauthorized Not login 403 Forbidden 无此权限 404 Not Found 无此角色 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\" } 查询文章的分类列表 Method POST URL http://jnr.host:9022/api/cyber/articles/:articleId/categories/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [{ \"column\": \"type\", \"op\": \"eq\", \"value\": \"notebook\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 12, \"totalNum\": 24, \"totalPage\": 2, \"datas\": [ { \"id\": \"1917f866ce5911ec85a638c9860954df\", \"name\": \"ui\", \"num\": 36 }, ...... ] } 查询文章的标签列表 Method POST URL http://jnr.host:9022/api/cyber/articles/:articleId/tags/filter Header Key Type Description Required Authorization String Bearer accessToken Yes Body Key Type Description Required currPage int 当前页码数，默认=1 No pageSize int 每页数据大小，默认=20 No orders Object 排序规则，默认=[]。 No searchs Object 查询条件，默认=[]。 No Request Example { \"currPage\": 1, \"pageSize\": 20, \"orders\": [{ \"column\": \"ctime\", \"dir\": \"desc\" }], \"searchs\": [{ \"column\": \"type\", \"op\": \"eq\", \"value\": \"notebook\" }] } Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", \"currPage\": 1, \"pageSize\": 12, \"totalNum\": 24, \"totalPage\": 2, \"datas\": [ { \"id\": \"1917f866ce5911ec85a638c9860954df\", \"name\": \"ui\", \"num\": 36 }, ...... ] } 文章绑定分类 Method POST URL http://jnr.host:9022/api/cyber/categories/:categoryId/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", } 文章解绑分类 Method DELETE URL http://jnr.host:9022/api/cyber/categories/:categoryId/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", } 文章绑定标签 Method POST URL http://jnr.host:9022/api/cyber/tags/:tagId/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", } 文章解绑标签 Method DELETE URL http://jnr.host:9022/api/cyber/tags/:tagId/articles/:articleId Header Key Type Description Required Authorization String Bearer accessToken Yes Responses Code Message Description 200 OK Query success 401 Unauthorized Not login 403 Forbidden 无此权限 Responses Example { \"errCode\": 200, \"errMsg\": \"Success\", } © Cyber-Life.cn Studio all right reserved，powered by Gitbook该文件修订时间： 2022-05-19 08:52:33 console.log(\"plugin-popup....\");document.onclick = function(e){ e.target.tagName === \"IMG\" && window.open(e.target.src,e.target.src)}img{cursor:pointer}"}}